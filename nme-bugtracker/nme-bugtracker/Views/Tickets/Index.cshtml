@model IEnumerable<nme_bugtracker.Models.Ticket>
@{ 
    //TODO: Use a ViewModel to display ALL Tickets broken down to 3 sections as Unassigned/Open/Recently Resolved Tickets
 }

@{
    ViewBag.Title = "All Tickets";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
<body>
    <h4>All Tickets</h4>
    <p>
        @Html.ActionLink("Add Ticket", "ChooseProject", null, htmlAttributes: new { @style = "text-transform:capitalize; font-size: 25px; font-weight: bold;" })
    </p>

    <table id="mytable" class="table">
        <thead>
            <tr><td><h4><strong>ALL Tickets</strong></h4></td></tr>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Title)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Project.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.AssignedToUserId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.TicketPriorityId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.TicketStatusId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.TicketTypeId)
                </th>
                @*<th>
                    @Html.DisplayNameFor(model => model.Description)
                </th>*@
                <th>
                    @Html.DisplayNameFor(model => model.OwnerUserId)
                </th>
                <th>
                    @*@Html.DisplayNameFor(model => model.Created*@
                    @Html.Label("On")
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Title)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Project.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AssignedToUser.UserName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TicketPriority.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TicketStatus.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TicketType.Name)
                    </td>
                    @*<td>
                        @Html.DisplayFor(modelItem => item.Description)
                    </td>*@
                    <td>
                        @Html.DisplayFor(modelItem => item.OwnerUser.UserName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Created)
                    </td>
                    <td>
                        @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                        @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                        @Html.ActionLink("Add Attachment", "Create", "TicketAttachments", new { ticketId = item.Id }, null)
                        @*@Html.ActionLink("Delete", "Delete", new { id = item.Id })*@
                    </td>
                </tr>
            }
        </tbody>
    </table>
@section Scripts {
    <script>
        $('#mytable').DataTable();
    </script>

    @*<script>
            // format ALL tables by class selector
            $('.table').DataTable();
        </script>*@
}
</body>
</html>
